(function(){var t,l=function(t,l){function o(){this.constructor=t}for(var a in l)e.call(l,a)&&(t[a]=l[a]);return o.prototype=l.prototype,t.prototype=new o,t.__super__=l.prototype,t},e={}.hasOwnProperty,o=[].slice;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var a,n,r,s,i;return a=function(t){function e(t,l){e.__super__.constructor.call(this,t,l)}var o;return l(e,t),o=function(t,l,e,o,a){var n,r,s,i,c,d,p;for(c=[],n=!1,i=0,d=o.length;i<d;i++)r=o[i],c.push(null!=(p=t[r])?p:"null"),s=c.join(String.fromCharCode(0)),l[s]||(l[s]=a(c.slice()),n=!0),l[s].push(t);return n&&e.push(c),c},e.prototype.processRecord=function(t){var l,e,a,n,r,s,i,c,d,p,u,h,f;if(f=[],l=[],this.allTotal.push(t),f=o(t,this.rowTotals,this.rowKeys,this.rowAttrs,function(t){return function(l){return t.aggregator(t,l,[])}}(this)),l=o(t,this.colTotals,this.colKeys,this.colAttrs,function(t){return function(l){return t.aggregator(t,[],l)}}(this)),d=f.length-1,p=l.length-1,!(d<0||p<0)){for(h=[],s=c=0,u=d;0<=u?c<=u:c>=u;s=0<=u?++c:--c)a=f.slice(0,s+1),r=a.join(String.fromCharCode(0)),this.tree[r]||(this.tree[r]={}),h.push(function(){var o,s,c;for(c=[],i=o=0,s=p;0<=s?o<=s:o>=s;i=0<=s?++o:--o)e=l.slice(0,i+1),n=e.join(String.fromCharCode(0)),this.tree[r][n]||(this.tree[r][n]=this.aggregator(this,a,e)),c.push(this.tree[r][n].push(t));return c}.call(this));return h}},e}(t.pivotUtilities.PivotData),t.pivotUtilities.SubtotalPivotData=a,n=function(l,o){var a,n,r,s,i,c,d,p,u,h,f,y,b,w,S,v,C,g,T,m,x,D,A,k,E,O,F,H,R,L,N,P,_,j,B,K,U,I,W,q,M,V,G,Q,z,J,X,Y,Z,$,tt,lt,et,ot,at,nt,rt,st,it,ct,dt,pt;return U={table:{clickCallback:null},localeStrings:{totals:"Totals"}},o=t.extend(!0,{},U,o),o.rowSubtotalDisplay||(o.rowSubtotalDisplay={}),"undefined"==typeof o.rowSubtotalDisplay.disableFrom&&(o.rowSubtotalDisplay.disableSubtotal?o.rowSubtotalDisplay.disableFrom=0:"undefined"==typeof o.rowSubtotalDisplay.disableAfter?o.rowSubtotalDisplay.disableFrom=9999:o.rowSubtotalDisplay.disableFrom=o.rowSubtotalDisplay.disableAfter+1),"undefined"==typeof o.rowSubtotalDisplay.collapseAt&&("undefined"==typeof o.collapseRowsAt?o.rowSubtotalDisplay.collapseAt=9999:o.rowSubtotalDisplay.collapseAt=o.collapseRowsAt),o.colSubtotalDisplay||(o.colSubtotalDisplay={}),"undefined"==typeof o.colSubtotalDisplay.disableFrom&&(o.colSubtotalDisplay.disableSubtotal?o.colSubtotalDisplay.disableFrom=0:"undefined"==typeof o.colSubtotalDisplay.disableAfter?o.colSubtotalDisplay.disableFrom=9999:o.colSubtotalDisplay.disableFrom=o.colSubtotalDisplay.disableAfter+1),"undefined"==typeof o.colSubtotalDisplay.collapseAt&&("undefined"==typeof o.collapseColsAt?o.colSubtotalDisplay.collapseAt=9999:o.colSubtotalDisplay.collapseAt=o.collapseColsAt),s=null!=o.arrowCollapsed?o.arrowCollapsed:o.arrowCollapsed="▶",i=null!=o.arrowExpanded?o.arrowExpanded:o.arrowExpanded="◢",k=l.colAttrs,at=l.rowAttrs,nt=l.getRowKeys(),E=l.getColKeys(),pt=l.tree,rt=l.rowTotals,O=l.colTotals,r=l.allTotal,m="rowhide",x="rowshow",v="colhide",C="colshow",A="expanded",D="collapsed",T="expanded",g="collapsed",Y=function(t,l){var e;return e=new RegExp("(?:^|\\s)"+l+"(?!\\S)","g"),null!==t.className.match(e)},et=function(t,l){var e,o,a,n,r,s;for(n=l.split(" "),s=[],e=0,o=n.length;e<o;e++)a=n[e],r=new RegExp("(?:^|\\s)"+a+"(?!\\S)","g"),s.push(t.className=t.className.replace(r,""));return s},a=function(t,l){var e,o,a,n,r;for(n=l.split(" "),r=[],e=0,o=n.length;e<o;e++)a=n[e],Y(t,a)?r.push(void 0):r.push(t.className+=" "+a);return r},ot=function(t,l,e){return et(t,l),a(t,e)},X=function(t,a,n){var r,s,i,c,d,p,u;if(o.table||o.table.eventHandlers){i={},u=o.table.eventHandlers;for(s in u)if(e.call(u,s)){d=u[s],c={};for(p in k)e.call(k,p)&&(r=k[p],null!=n[p]&&(c[r]=n[p]));for(p in at)e.call(at,p)&&(r=at[p],null!=a[p]&&(c[r]=a[p]));i[s]=function(e){return d(e,t,c,l)}}return i}},K=function(t,l,o,a,n){var r,s,i,c,d;if(s=document.createElement(t),null!=l&&(s.className=l),null!=o&&(s.textContent=o),null!=a)for(r in a)e.call(a,r)&&(d=a[r],s.setAttribute(r,d));if(null!=n)for(i in n)e.call(n,i)&&(c=n[i],s.addEventListener(i,c));return s},st=function(t,l){var o,a,n;a=[];for(o in l)e.call(l,o)&&(n=l[o],a.push(t.setAttribute(o,n)));return a},lt=function(t,l,e){var o,a;return o=t[0].length-1,pt={children:[]},a=0,t.reduce(function(t){return function(t,e){var n;return n=0,e.reduce(function(t,r,s,i){var c,d,p,u,h;if(t[r]||(p=e.slice(0,n+1),t[r]={row:a,col:n,descendants:0,children:[],text:r,key:p,flatKey:p.join(String.fromCharCode(0)),firstLeaf:null,leaves:0,parent:0!==n?t:null,th:K("th",l,r),childrenSpan:0},t.children.push(r)),n>0&&t.descendants++,n++,s===o){for(u=pt,c=d=0,h=o-1;0<=h?d<=h:d>=h;c=0<=h?++d:--d)o>0&&(u[e[c]].leaves++,u[e[c]].firstLeaf||(u[e[c]].firstLeaf=t[r]),u=u[e[c]]);return pt}return t[r]},pt),a++,pt}}(this),pt),console.warn(pt),pt},c=function(t,l,e,o){var a,n,r;return a={text:e[l],expandedCount:0,expandables:0,attrHeaders:[],clickStatus:A,onClick:F},n=i+" ",r=T,l>=o.collapseAt&&(n=s+" ",r=g,a.clickStatus=D,a.onClick=I),(l===e.length-1||l>=o.disableFrom||o.disableExpandCollapse)&&(n=""),a.th=K("th","pvtAxisLabel "+r,""+n+a.text),l<e.length-1&&l<o.disableFrom&&!o.disableExpandCollapse&&(a.th.onclick=function(n){return n=n||window.event,a.onClick(t,l,e,o)}),t.ah.push(a),a},d=function(t,l,e,o){var a,n,r,s,i,d;for(r={collapseAttrHeader:N,expandAttrHeader:M,ah:[]},s=i=0,d=e.length;i<d;s=++i)n=e[s],a=c(r,s,e,o.colSubtotalDisplay),a.tr=K("tr"),0===s&&0!==l.length&&a.tr.appendChild(K("th",null,null,{colspan:l.length,rowspan:e.length})),a.tr.appendChild(a.th),t.appendChild(a.tr);return r},y=function(t,l,e,o){var a,n,r,s,i,d;for(n={collapseAttrHeader:_,expandAttrHeader:Q,ah:[],tr:K("tr")},r=s=0,i=l.length-1;0<=i?s<=i:s>=i;r=0<=i?++s:--s)a=c(n,r,l,o.rowSubtotalDisplay),n.tr.appendChild(a.th);return 0!==e.length&&(d=K("th"),n.tr.appendChild(a.th)),t.appendChild(n.tr),n},it=function(t,l,e,o,a){var n;return n={arrow:" "+i+" ",clickStatus:A,onClick:l,class:T},(t.col===o.length-1||t.col>=a.disableFrom||a.disableExpandCollapse||1===t.leaves)&&(n.arrow=""),n.textContent=""+n.arrow+t.text,n},p=function(t,l,e,o,n,r,s){var i,c,d,u,h,f,y;for(f=e.children,u=0,h=f.length;u<h;u++)c=f[u],p(t,l,e[c],o,n,r,s);return i=t.ah[e.col],i.attrHeaders.push(e),e.node=r.counter,d=it(e,N,M,n,s.colSubtotalDisplay),e.onClick=d.onClick,a(e.th,C+" col"+e.row+" colcol"+e.col+" "+d.class),e.th.setAttribute("data-colnode",e.node),0!==e.children.length&&(e.th.colSpan=e.childrenSpan),0===e.children.length&&0!==o.length&&(e.th.rowSpan=2),e.th.textContent=d.textContent,e.leaves>1&&e.col<s.colSubtotalDisplay.disableFrom&&(i.expandables++,i.expandedCount+=1,s.colSubtotalDisplay.hideOnExpand||e.th.colSpan++,s.colSubtotalDisplay.disableExpandCollapse||(e.th.onclick=function(l){return l=l||window.event,e.onClick(t,e,s.colSubtotalDisplay)}),e.sTh=K("th","pvtColLabelFiller col"+e.row+" colcol"+e.col+" "+d.class),e.sTh.setAttribute("data-colnode",e.node),e.sTh.rowSpan=n.length-e.col,s.colSubtotalDisplay.hideOnExpand&&(e.sTh.style.display="none",a(e.sTh,v)),e[e.children[0]].tr.appendChild(e.sTh)),null!=(y=e.parent)&&(y.childrenSpan+=e.th.colSpan),e.clickStatus=d.clickStatus,i.tr.appendChild(e.th),e.tr=i.tr,l.push(e),r.counter++},w=function(t,l,e){var a;return a=K("th","pvtTotalLabel rowTotal",o.localeStrings.totals,{rowspan:0===e.length?1:e.length+(0===l.length?0:1)}),t.appendChild(a)},b=function(t,l,e,o,n,r,s,i){var c,d,p,u,h,f,y,w;for(y=o.children,h=0,f=y.length;h<f;h++)d=y[h],b(t,l,e,o[d],n,r,s,i);return c=l.ah[o.col],c.attrHeaders.push(o),o.node=s.counter,u=it(o,_,Q,n,i.rowSubtotalDisplay),o.onClick=u.onClick,0!==o.children.length&&(p=o[o.children[0]]),a(o.th,x+" row"+o.row+" rowcol"+o.col+" "+u.class),o.th.setAttribute("data-rownode",o.node),o.col===n.length-1&&0!==r.length&&(o.th.colSpan=2),0!==o.children.length&&(o.th.rowSpan=o.childrenSpan),o.th.textContent=u.textContent,1===o.leaves?(o.tr=p.tr,o.tr.insertBefore(o.th,p.th),o.sTh=p.sTh):(o.tr=K("tr","row"+o.row+" "+u.class),o.tr.appendChild(o.th),0===o.leaves?t.appendChild(o.tr):t.insertBefore(o.tr,p.tr)),o.leaves>1&&o.col<i.rowSubtotalDisplay.disableFrom&&(++c.expandedCount,++c.expandables,i.rowSubtotalDisplay.disableExpandCollapse||(o.th.onclick=function(t){return t=t||window.event,o.onClick(l,o,i.rowSubtotalDisplay)}),o.sTh=K("th","pvtRowLabelFiller row"+o.row+" rowcol"+o.col+" "+u.class),o.sTh.setAttribute("data-rownode",o.node),o.sTh.colSpan=n.length-(o.col+1)+(0!==r.length?1:0),i.rowSubtotalDisplay.hideOnExpand&&(o.sTh.style.display="none"),i.rowSubtotalDisplay.displayOnTop?o.tr.appendChild(o.sTh):(i.rowSubtotalDisplay.hideOnExpand||(o.th.rowSpan+=1),o.sTr=K("tr","row"+o.row+" "+u.class),i.rowSubtotalDisplay.hideOnExpand&&(o.sTr.style.display="none"),o.sTr.appendChild(o.sTh),t.appendChild(o.sTr))),o.leaves>1&&o.th.rowSpan++,null!=(w=o.parent)&&(w.childrenSpan+=o.th.rowSpan),o.clickStatus=u.clickStatus,e.push(o),s.counter++},S=function(t,l,e){var a,n,r,s,i,c,d,p,u,h,f,y,b,w,S,g,T,D,A,k;for(w=[],u=0,f=attrHeaders.length;u<f;u++){for(S=attrHeaders[u],g=setRowInitParams(S.col),c=S.flatKey,p=0!==S.descendants,h=0,y=attrHeaders.length;h<y;h++)n=attrHeaders[h],i=n.flatKey,a=null!=(b=pt[c][i])?b:{value:function(){return null},format:function(){return""}},k=a.value(),d=0!==n.descendants,r=setColInitParams(n.col),T="pvtVal",d&&(T+=" pvtColSubtotal "+r.colClass),p&&(T+=" pvtRowSubtotal "+g.rowClass),T+=p&&(S.col>=rowDisableFrom||isRowHideOnExpand&&S.col<o.rowSubtotalDisplay.collapseAt)||S.col>o.rowSubtotalDisplay.collapseAt?" "+m:" "+x,T+=d&&(isColDisable||n.col>colDisableAfter||isColHideOnExpand&&n.col<o.colSubtotalDisplay.collapseAt)||n.col>o.colSubtotalDisplay.collapseAt?" "+v:" "+C,T+=" row"+S.row+(" col"+n.row)+(" rowcol"+S.col)+(" colcol"+n.col),s=X(k,S.key,n.key),D=K("td",T,a.format(k),{"data-value":k,"data-rownode":S.node,"data-colnode":n.node},s),isDisplayOnTop||(S.col>o.rowSubtotalDisplay.collapseAt||n.col>o.colSubtotalDisplay.collapseAt||p&&(S.col>=rowDisableFrom||isRowHideOnExpand&&S.col<o.rowSubtotalDisplay.collapseAt)||d&&(isColDisable||n.col>colDisableAfter||isColHideOnExpand&&n.col<o.colSubtotalDisplay.collapseAt))&&(D.style.display="none"),S.tr.appendChild(D);A=rt[c],k=A.value(),T="pvtTotal rowTotal "+g.rowClass,p&&(T+=" pvtRowSubtotal "),T+=p&&(S.col>=rowDisableFrom||!isDisplayOnTop||isRowHideOnExpand&&S.col<o.rowSubtotalDisplay.collapseAt)?" "+m:" "+x,T+=" row"+S.row+" rowcol"+S.col,D=K("td",T,A.format(k),{"data-value":k,"data-row":"row"+S.row,"data-rowcol":"col"+S.col,"data-rownode":S.node},X(k,S.key,[])),isDisplayOnTop||(S.col>o.rowSubtotalDisplay.collapseAt||p&&(S.col>=rowDisableFrom||isRowHideOnExpand&&S.col<o.rowSubtotalDisplay.collapseAt))&&(D.style.display="none"),w.push(S.tr.appendChild(D))}return w},h=function(t,l){var e,a,n;return n=K("tr"),e=t.length+(0===l.length?0:1),a=K("th","pvtTotalLabel colTotal",o.localeStrings.totals,{colspan:e}),n.appendChild(a),n},u=function(t,l){var e,a,n,r,s,i,c,d,p;for(i=[],r=0,s=l.length;r<s;r++)n=l[r],1!==n.leaves&&(a=setColInitParams(n.col),e="pvtVal pvtTotal colTotal "+a.colClass+" col"+n.row+" colcol"+n.col,0!==n.children.length&&(e+=" pvtColSubtotal"),d=O[n.flatKey],p=d.value(),c=K("td",e,d.format(p),{"data-value":p,"data-for":"col"+n.col,"data-colnode":""+n.node},X(p,[],n.key)),(n.col>o.colSubtotalDisplay.collapseAt||0!==n.children.length&&(isColDisable||n.col>colDisableAfter||isColHideOnExpand&&n.col<o.colSubtotalDisplay.collapseAt))&&(c.style.display="none"),i.push(t.appendChild(c)));return i},f=function(t,l){var e,o,a;return o=r,a=o.value(),e=K("td","pvtGrandTotal",o.format(a),{"data-value":a},X(a,[],[])),l.appendChild(e),t.appendChild(l)},H=function(t,l,e){var o,a,n,r,i,c,d;if(a=Math.min(t.ah.length-2,e.disableFrom-1),!(l>a)){for(d=[],n=r=i=l,c=a;i<=c?r<=c:r>=c;n=i<=c?++r:--r)o=t.ah[n],ot(o.th,T,g),o.th.textContent=" "+s+" "+o.text,o.clickStatus=D,d.push(o.onClick=I);return d}},n=function(t,l,e){var o;return o=t.ah[l],0===o.expandedCount?H(t,l,e):o.expandedCount===o.expandables?(ot(o.th,g,T),o.th.textContent=" "+i+" "+o.text,o.clickStatus=A,o.onClick=F):void 0},Z=function(l){return t(l.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+l.node+'"], th[data-colnode="'+l.node+'"]').removeClass(C).addClass(v).css("display","none")},P=function(l,e){return t(l.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+l.node+'"], th[data-colnode="'+l.node+'"]').removeClass(T).addClass(g),l.leaves>1&&(l.th.textContent=" "+s+" "+l.text),l.th.colSpan=1},j=function(l,e){var o;return o="."+m,e.hideOnExpand||(o+=", ."+v),t(l.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+l.node+'"], th[data-colnode="'+l.node+'"]').removeClass(T).addClass(g).not(o).removeClass(v).addClass(C).css("display",""),l.leaves>1&&(l.th.textContent=" "+s+" "+l.text),l.th.colSpan=1},R=function(t,l){var e,o,a,n;for(n=t.children,o=0,a=n.length;o<a;o++)e=n[o],Y(t[e].th,C)&&R(t[e],l);return Z(t)},N=function(t,l,e){var o,a,r,s,i,c;for(a=l.th.colSpan-1,c=l.children,r=0,s=c.length;r<s;r++)o=c[r],Y(l[o].th,C)&&R(l[o],l);for(l.col<e.disableFrom&&(Y(l.th,v)?P(l,e):j(l,e)),i=l.parent;i;)i.th.colSpan-=a,i=i.parent;return l.clickStatus=D,l.onClick=M,t.ah[l.col].expandedCount--,n(t,l.col,e)},ct=function(l){return t(l.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+l.node+'"], th[data-colnode="'+l.node+'"]').removeClass(v).addClass(C).not(".pvtRowSubtotal."+m).css("display","")},V=function(l){return t(l.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+l.node+'"], th[data-colnode="'+l.node+'"]').removeClass(g+" "+C).addClass(T+" "+v).css("display","none"),ot(l.th,v,C),l.th.style.display="",l.th.textContent=" "+i+" "+l.text},z=function(l){if(t(l.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+l.node+'"], th[data-colnode="'+l.node+'"]').removeClass(g+" "+v).addClass(T+" "+C).not(".pvtRowSubtotal."+m).css("display",""),l.th.colSpan++,l.th.textContent=" "+i+" "+l.text,l.th.style.display="",null!=l.sTh)return l.sTh.style.display=""},W=function(t,l){var e,o,a,n,r;if(ct(t),t.sTh&&t.clickStatus===A&&l.hideOnExpand&&(ot(t.sTh,C,v),t.sTh.style.display="none"),t.clickStatus===A||t.col>=l.disableFrom){for(n=t.children,r=[],o=0,a=n.length;o<a;o++)e=n[o],r.push(W(t[e],l));return r}},M=function(t,l,e){var o,a,r,s,i,c,d;if(l.clickStatus===A)return void n(t,l.col,e);for(r=0,d=l.children,s=0,i=d.length;s<i;s++)a=d[s],o=l[a],W(o,e),r+=o.th.colSpan;for(l.th.colSpan=r,l.col<e.disableFrom&&(e.hideOnExpand?(V(l),--r):z(l)),c=l.parent;c;)c.th.colSpan+=r,c=c.parent;return l.clickStatus=A,l.onClick=N,t.ah[l.col].expandedCount++,n(t,l.col,e)},$=function(t,l){var e,o,a,n,r,s;for(t.tr.style.display="none",t.sTr&&(t.sTr.style.display="none"),t.th.style.display="none",t.sTh&&(t.sTh.style.display="none"),s=t.sTr?t.sTr:t.tr,o=s.getElementsByTagName("td"),r=[],a=0,n=o.length;a<n;a++)e=o[a],r.push(ot(e,x,m));return r},B=function(t,l){var e,o,n,r,i,c;for(t.tr.style.display="",t.sTr&&(t.sTr.style.display=""),t.th.style.display="",t.th.textContent=" "+s+" "+t.text,t.th.rowSpan=l.displayOnTop?1:2,ot(t.th,T,g),t.sTh&&(t.sTh.style.display="",ot(t.sTh,T,g)),c=t.sTr?t.sTr:t.tr,o=c.getElementsByTagName("td"),i=[],n=0,r=o.length;n<r;n++)e=o[n],et(e,T+" "+m),a(e,g+" "+x),Y(e,v)?i.push(void 0):i.push(e.style.display="");return i},L=function(t,l,e){var o,a,n,r;for(r=t.children,a=0,n=r.length;a<n;a++)o=r[a],L(t[o],l,e);return $(t,e)},_=function(t,l,e){var o,a,r,s,i,c,d;for(d=l.th.rowSpan,c=l.children,r=0,s=c.length;r<s;r++)o=c[r],L(l[o],l,e);for(B(l,e),a=d-l.th.rowSpan,i=l.parent;i;)i.th.rowSpan-=a,i=i.parent;return l.clickStatus=D,l.onClick=Q,t.ah[l.col].expandedCount--,n(t,l.col,e)},dt=function(t,l){var e,o,a,n,r,s;for(t.tr.style.display="",t.th.style.display="",s=t.tr,(t.clickStatus===A&&!l.hideOnExpand||t.clickStatus===D)&&(t.sTr.style.display="",t.sTh.style.display="",s=t.sTr),o=s.getElementsByTagName("td"),r=[],a=0,n=o.length;a<n;a++)e=o[a],ot(e,m,x),Y(e,v)?r.push(void 0):r.push(e.style.display="");return r},J=function(t,l){var e,o,n,r,s,c;for(t.tr.style.display="",ot(t.tr,g,T),t.sTr&&(t.sTr.style.display=""),t.th.style.display="",ot(t.th,g,T),t.th.textContent=" "+i+" "+t.text,t.sTh&&(t.sTh.style.display=""),ot(t.sTh,g,T),c=t.sTr?t.sTr:t.tr,o=t.tr.getElementsByTagName("td"),s=[],n=0,r=o.length;n<r;n++)e=o[n],et(e,g+" "+m),a(e,T+" "+x),Y(e,v)?s.push(void 0):s.push(e.style.display="");return s},G=function(t,l){var e,o,n,r,s,c;for(t.tr.style.display="",ot(t.tr,g,T),t.sTr&&(t.sTr.style.display="none"),t.th.style.display="",t.th.textContent=" "+i+" "+t.text,t.sTh&&(t.sTh.style.display="none"),c=t.sTr?t.sTr:t.tr,o=c.getElementsByTagName("td"),s=[],n=0,r=o.length;n<r;n++)e=o[n],et(e,g+" "+x),s.push(a(e,T+" "+m));return s},q=function(t,l){var e,o,a,n,r;if(console.warn(t.text+": "+t.clickStatus),dt(t,l),t.clickStatus===A){for(n=t.children,r=[],o=0,a=n.length;o<a;o++)e=n[o],r.push(q(t[e],l));return r}},Q=function(t,l,e){var o,a,r,s,i,c,d,p;if(l.clickStatus===A)return void n(t,l.col,e);for(p=0,d=l.children,s=0,i=d.length;s<i;s++)a=d[s],o=l[a],q(o,e),p+=o.th.rowSpan;for(l.leaves>1&&(e.hideOnExpand?G(l,e):J(l,e)),e.displayOnTop||e.hideOnExpand||(p+=1),r=p-l.th.rowSpan+1,l.th.rowSpan=p+1,c=l.parent;c;)c.th.rowSpan+=r,c=c.parent;return l.clickStatus=A,l.onClick=_,t.ah[l.col].expandedCount++,n(t,l.col,e)},F=function(t,l,e,o){var a,n,r,s,i,c,d;if(a=Math.min(e.length-2,o.disableFrom-1),!(l>a)){for(d=[],r=s=i=a,c=l;s>=c;r=s+=-1)d.push(function(){var l,e,a,s;for(a=t.ah[r].attrHeaders,s=[],l=0,e=a.length;l<e;l++)n=a[l],n.clickStatus===A&&n.leaves>1&&s.push(t.collapseAttrHeader(t,n,o));return s}());return d}},I=function(t,l,e,o){var a,n,r,s,i,c;for(a=t.ah[l],c=[],r=s=0,i=l;0<=i?s<=i:s>=i;r=0<=i?++s:--s)c.push(function(){var l,e,a,s;for(a=t.ah[r].attrHeaders,s=[],l=0,e=a.length;l<e;l++)n=a[l],s.push(t.expandAttrHeader(t,n,o));return s}());return c},(tt=function(t,l,e,a){var n,r,s,i,c,u,S,v,C,g,T,m,x,D,A,k,E,O;if(x=[],r=[],0!==e.length&&0!==a.length&&(i=lt(a,"pvtColLabel")),0!==t.length&&0!==l.length&&(A=lt(l,"pvtRowLabel")),m=K("table","pvtTable",null,{style:"display: none;"}),E=K("thead"),m.appendChild(E),0!==e.length){for(s=d(E,t,e,o),C={counter:0},g=i.children,c=0,S=g.length;c<S;c++)n=g[c],p(s,r,i[n],t,e,C,o);w(s.ah[0].tr,t,e)}if(k=K("tbody"),m.appendChild(k),0!==t.length)for(D=y(E,t,e,o),0===e.length&&w(D.tr,t,e),C={counter:0},T=A.children,u=0,v=T.length;u<v;u++)n=T[u],b(k,D,x,A[n],t,e,C,o);return O=h(t,e),f(k,O),F(s,o.colSubtotalDisplay.collapseAt,e,o.colSubtotalDisplay),F(D,o.rowSubtotalDisplay.collapseAt,t,o.rowSubtotalDisplay),m.setAttribute("data-numrows",l.length),m.setAttribute("data-numcols",a.length),m.style.display="",m})(at,nt,k,E)},t.pivotUtilities.subtotal_renderers={"Table With Subtotal":function(t,l){return n(t,l)},"Table With Subtotal Bar Chart":function(l,e){return t(n(l,e)).barchart()},"Table With Subtotal Heatmap":function(l,e){return t(n(l,e)).heatmap("heatmap",e)},"Table With Subtotal Row Heatmap":function(l,e){return t(n(l,e)).heatmap("rowheatmap",e)},"Table With Subtotal Col Heatmap":function(l,e){return t(n(l,e)).heatmap("colheatmap",e)}},i=t.pivotUtilities.numberFormat({digitsAfterDecimal:1,scaler:100,suffix:"%"}),r=t.pivotUtilities.aggregatorTemplates,s={fractionOf:function(t,l,e){return null==l&&(l="row"),null==e&&(e=i),function(){var a;return a=1<=arguments.length?o.call(arguments,0):[],function(o,n,r){return"undefined"==typeof n&&(n=[]),"undefined"==typeof r&&(r=[]),{selector:{row:[n.slice(0,-1),[]],col:[[],r.slice(0,-1)]}[l],inner:t.apply(null,a)(o,n,r),push:function(t){return this.inner.push(t)},format:e,value:function(){return this.inner.value()/o.getAggregator.apply(o,this.selector).inner.value()},numInputs:t.apply(null,a)().numInputs}}}}},t.pivotUtilities.subtotalAggregatorTemplates=s,t.pivotUtilities.subtotal_aggregators=function(t,l){return{"Sum As Fraction Of Parent Row":l.fractionOf(t.sum(),"row",i),"Sum As Fraction Of Parent Column":l.fractionOf(t.sum(),"col",i),"Count As Fraction Of Parent Row":l.fractionOf(t.count(),"row",i),"Count As Fraction Of Parent Column":l.fractionOf(t.count(),"col",i)}}(r,s)})}).call(this);
//# sourceMappingURL=subtotal.min.js.map
